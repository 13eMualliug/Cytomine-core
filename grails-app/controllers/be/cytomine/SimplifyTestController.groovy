package be.cytomine

import com.vividsolutions.jts.geom.Geometry
import com.vividsolutions.jts.io.WKTReader
import com.vividsolutions.jts.io.WKTWriter
import com.vividsolutions.jts.simplify.DouglasPeuckerSimplifier
import be.cytomine.image.ImageInstance
import be.cytomine.command.Transaction
import be.cytomine.security.SecUser
import be.cytomine.security.User
import be.cytomine.image.AbstractImage
import be.cytomine.project.Project
import be.cytomine.ontology.UserAnnotation

class SimplifyTestController {

    def cytomineService
    def transactionService

    def index() {
        ImageInstance image = ImageInstance.read(864200)
        removeAnnotations(image)
        addAnnotations(image)
    }

    private def removeAnnotations(ImageInstance image) {
        Transaction transaction = transactionService.start()
        def annotations = UserAnnotation.findAllByImage(image)
        annotations.each {
            println "##### DELETE ANNOTATION " + it.id
            //annotationService.deleteAnnotation(it.id,cytomineService.getCurrentUser(),transaction)
            it.delete()
        }

    }

    private def addAnnotations(ImageInstance image) {
        def users = getUserList(image.project)

        def maxRatioPoints = [1.6d,1.6d,1.6d,1.6d]
        def minRatioPoints = [2d,2d,2d,2d]
        def usersInfos = []

        int countUser = 0;
        float incrThreshold = 0.25f

        getAnnotations().each {
            usersInfos <<  "value:" + users.get(countUser).username + " 1d/1d"
            createAnnotation(image,users.get(countUser),it)
        }

        countUser++
        for(int i=0;i<maxRatioPoints.size();i++) {
            for (int j=0;j<minRatioPoints.size();j++) {
                double maxRatioPoint = maxRatioPoints[i]
                double minRatioPoint = minRatioPoints[j]
                if (maxRatioPoint<minRatioPoint) {
                    usersInfos <<  "value:" + users.get(countUser).username + " $maxRatioPoint/$minRatioPoint"
                    getAnnotations().each {
                        createAnnotation(image,users.get(countUser),simplifyPolygon(it,maxRatioPoint,minRatioPoint,incrThreshold).geometry.toString())
                    }
                    countUser++
                }

            }
        }

        usersInfos.each {
            println it
        }
    }

    private List<SecUser> getUserList(def domain) {
        List<SecUser> users = SecUser.executeQuery("select distinct secUser from AclObjectIdentity as aclObjectId, AclEntry as aclEntry, AclSid as aclSid, SecUser as secUser "+
            "where aclObjectId.objectId = "+domain.id+" and aclEntry.aclObjectIdentity = aclObjectId.id and aclEntry.sid = aclSid.id and aclSid.sid = secUser.username and secUser.class = 'be.cytomine.security.User' order by secUser.username")

        return users
    }

    private createAnnotation(ImageInstance image, SecUser user, String location) {
        UserAnnotation annotation = new UserAnnotation();
        annotation.project = image.project
        annotation.image = image
        annotation.user = user
        annotation.location = new WKTReader().read(location)
        if(!annotation.validate())
            println "errors:"+annotation.errors
        annotation.save(flush: true)
    }


    //maxRatioPoint = 7.5
    //minRatioPoint = 10
    //incrThreshold = 0.25f
    private def simplifyPolygon(String form, double maxRatioPoint, double minRatioPoint, float incrThreshold) {

        Geometry annotationFull = new WKTReader().read(form);
        Geometry lastAnnotationFull = annotationFull
        //log.info "points=" + annotationFull.getNumPoints() + " " + annotationFull.getArea();
        //log.info "annotationFull:" + annotationFull.getNumPoints() + " |" + new WKTWriter().write(annotationFull);

        /* Number of point (ex: 500 points) */
        double numberOfPoint = annotationFull.getNumPoints()
        /* Maximum number of point that we would have (500/5 (max 150)=max 100 points)*/
        double rateLimitMax = Math.min(numberOfPoint / maxRatioPoint, 150)
        /* Minimum number of point that we would have (500/10 (min 10 max 100)=min 50 points)*/
        double rateLimitMin = Math.min(Math.max(numberOfPoint / minRatioPoint, 10), 100)
        /* Increase value for the increment (allow to converge faster) */
        //incrThreshold
        double increaseIncrThreshold = numberOfPoint / 100d
        float i = 0;
        /* Max number of loop (prevent infinite loop) */
        int maxLoop = 500
        double rate = 0

        while (numberOfPoint > rateLimitMax && maxLoop > 0) {
            rate = i
            lastAnnotationFull = DouglasPeuckerSimplifier.simplify(annotationFull, rate)
            //log.debug "annotationFull=" + rate + " " + lastAnnotationFull.getNumPoints()
            if (lastAnnotationFull.getNumPoints() < rateLimitMin) break;
            annotationFull = lastAnnotationFull
            i = i + (incrThreshold * increaseIncrThreshold); maxLoop--;
        }

        log.debug "annotationFull good=" + i + " " + annotationFull.getNumPoints() + " |" + new WKTWriter().write(lastAnnotationFull);
        return [geometry: lastAnnotationFull, rate: rate]
    }


    private def getAnnotations() {
        def annotations = []
        annotations << getAnnotationFreeHandSmallSlow()
        annotations << getAnnotationFreeHandMediumSlow()
        annotations << getAnnotationFreeHandBigSlow()

        annotations << getAnnotationFreeHandSmallMedium()
        annotations << getAnnotationFreeHandMediumMedium()
        annotations << getAnnotationFreeHandBigMedium()

        annotations << getAnnotationFreeHandSmallQuick()
        annotations << getAnnotationFreeHandMediumQuick()
        annotations << getAnnotationFreeHandBigQuick()

        annotations << getAnnotationPolygonSmall()
        annotations << getAnnotationPolygonMedium()
        annotations << getAnnotationPolygonBig()

    }

    private def getAnnotationFreeHandSmallSlow() {
        return "POLYGON((239.75 94302.5,238.75 94302.5,236.75 94299.5,235.75 94298.5,234.75 94296.5,232.75 94290.5,231.75 94285.5,229.75 94280.5,228.75 94278.5,227.75 94275.5,226.75 94272.5,225.75 94265.5,224.75 94262.5,223.75 94259.5,222.75 94257.5,230.75 94277.5,228.75 94272,226.75 94269,221.75 94262.5,220.25 94261,215.75 94253.5,213.25 94250,211.75 94247,209.75 94244,207.25 94240.5,205.75 94238.5,204.25 94237,201.75 94235.5,200.25 94235,199.25 94235,196.75 94233.5,191.75 94232.5,189.75 94232.5,185.25 94232.5,183.75 94232.5,181.25 94234.5,179.25 94237,177.75 94238.5,175.25 94242,172.75 94246,170.25 94249.5,168.25 94252,167.75 94254,166.25 94257,164.75 94260,159.75 94262.5,156.75 94263,154.75 94264.5,150.75 94266,147.75 94266.5,146.75 94266.5,144.75 94264,142.75 94260,139.75 94255,135.75 94251.5,132.75 94247,129.25 94245,125.75 94244,123.75 94244.5,122.25 94248.5,120.75 94252.5,118.75 94254,114.25 94256.5,113.75 94257,113.75 94264,113.75 94268,114.25 94271.5,116.25 94276,118.25 94279.5,121.25 94282,125.25 94283.5,131.25 94283.5,136.25 94283.5,141.25 94284.5,145.75 94286,149.25 94288,149.75 94288.5,149.75 94289,149.75 94293,148.75 94297,148.75 94299.5,148.75 94302,148.75 94303.5,151.75 94306.5,156.25 94308,160.75 94309.5,165.75 94312,170.25 94313.5,171.75 94315,172.25 94317.5,169.75 94319.5,167.75 94319.5,167.25 94319.5,166.75 94319.5,163.25 94320.5,161.75 94323.5,161.75 94326.5,164.75 94330,167.25 94331,169.25 94331,176.75 94329,180.25 94327,187.25 94326.5,191.75 94325.5,195.75 94325.5,200.75 94326,202.75 94327.5,202.75 94331,201.25 94334.5,198.75 94337.5,199.75 94342.5,201.75 94345,204.75 94349,204.75 94355,204.75 94361,205.25 94365,204.25 94379,204.25 94380,203.75 94388.5,204.25 94395.5,207.25 94403,209.75 94408.5,212.25 94413,216.25 94418,222.75 94423,229.25 94427,232.75 94429,236.75 94431,245.25 94431.5,252.75 94429,259.75 94424.5,263.75 94419,263.75 94415.5,259.75 94410.5,255.75 94407.5,250.75 94403.5,246.25 94399.5,244.75 94396,244.25 94391.5,245.75 94382.5,246.25 94377.5,247.25 94370.5,248.25 94365.5,249.25 94361.5,249.25 94357.5,245.75 94352,242.75 94349,241.25 94348,243.25 94344,247.75 94340,251.25 94339,259.25 94351,262.75 94357.5,268.25 94365,274.75 94371.5,283.25 94379,290.25 94387.5,297.75 94393.5,302.75 94397.5,309.25 94400.5,316.75 94403,318.25 94403,324.75 94403,329.25 94404,333.25 94406,333.75 94407.5,331.25 94410.5,330.75 94410.5,330.75 94411,329.25 94418.5,328.75 94424.5,328.25 94429.5,329.75 94434.5,330.75 94435,339.25 94433,342.25 94431.5,345.25 94427,351.25 94420.5,355.75 94417,360.75 94414.5,367.75 94410.5,370.75 94409,372.75 94403.5,372.75 94398,372.25 94396,367.25 94395,361.25 94396.5,354.75 94398.5,350.25 94400,348.75 94400,347.75 94397.5,350.75 94394,353.25 94393,360.25 94391.5,369.75 94390.5,374.75 94390.5,375.75 94390.5,380.25 94391.5,382.75 94390,388.25 94386.5,391.25 94378,391.75 94373.5,392.25 94369.5,392.25 94365.5,392.25 94361.5,392.25 94358,391.75 94355,391.75 94352,393.75 94347.5,396.25 94344.5,397.25 94342.5,397.75 94340.5,398.75 94338.5,399.75 94337,401.75 94335,404.25 94333,410.25 94333,417.75 94335,420.75 94335,424.25 94334,436.25 94335,445.25 94336,454.75 94337.5,464.75 94340,476.25 94345,486.25 94349.5,492.25 94352.5,495.75 94353.5,501.25 94353.5,505.25 94349,507.25 94341.5,504.25 94333.5,501.25 94328.5,495.25 94324.5,488.25 94322.5,482.75 94322,476.25 94322,471.75 94323,465.75 94323.5,461.75 94322,457.25 94320,447.75 94316.5,436.25 94313,431.25 94312,431.25 94311,431.25 94307.5,434.25 94302,435.25 94296,435.75 94291.5,433.75 94285,432.75 94280.5,434.25 94273.5,434.75 94267,434.75 94263,434.25 94259.5,439.75 94257.5,448.75 94261,460.75 94267,476.25 94264,482.25 94260.5,492.25 94258,495.25 94256,498.75 94249,498.25 94241.5,491.25 94233.5,485.75 94227.5,480.25 94221,475.75 94217,470.75 94212.5,463.75 94208,459.75 94205.5,448.25 94206.5,440.25 94209,439.25 94210.5,437.75 94215,433.25 94215.5,421.75 94214,413.75 94218.5,407.75 94224.5,402.75 94233.5,389.25 94239,378.75 94242.5,368.75 94245,362.75 94246,358.25 94247,357.25 94247,353.25 94245.5,350.25 94243,348.75 94238.5,348.25 94236.5,347.75 94234.5,345.75 94231,340.75 94228.5,334.75 94227,331.25 94226.5,327.25 94228.5,323.25 94233.5,318.75 94241.5,317.75 94244.5,316.75 94249,312.75 94255.5,312.25 94263,313.25 94270,314.25 94275,315.25 94277.5,316.75 94281.5,312.75 94292,309.75 94294,308.25 94294,304.25 94293,299.25 94289.5,296.75 94287.5,293.75 94284.5,290.75 94282.5,287.25 94281,283.25 94280.5,276.75 94280.5,268.25 94280,264.25 94280.5,261.25 94282,260.75 94282,239.75 94302.5))"

    }

    private def getAnnotationFreeHandMediumSlow() {
        return "POLYGON((2113.25 94023.5,2153.25 94027.5,2177.25 94035.5,2185.25 94039.5,2217.25 94051.5,2257.25 94051.5,2261.25 94051.5,2321.25 94039.5,2385.25 94035.5,2425.25 94039.5,2445.25 94055.5,2465.25 94071.5,2473.25 94095.5,2481.25 94115.5,2501.25 94139.5,2517.25 94143.5,2529.25 94135.5,2549.25 94119.5,2577.25 94091.5,2613.25 94063.5,2637.25 94031.5,2669.25 94023.5,2697.25 94039.5,2733.25 94075.5,2749.25 94119.5,2749.25 94139.5,2757.25 94171.5,2765.25 94171.5,2789.25 94179.5,2797.25 94187.5,2809.25 94227.5,2821.25 94259.5,2821.25 94279.5,2813.25 94315.5,2845.25 94359.5,2869.25 94399.5,2885.25 94419.5,2901.25 94439.5,2913.25 94455.5,2949.25 94487.5,2965.25 94499.5,2969.25 94503.5,2989.25 94507.5,3005.25 94511.5,3021.25 94507.5,3037.25 94503.5,3061.25 94503.5,3085.25 94507.5,3109.25 94511.5,3121.25 94515.5,3129.25 94515.5,3181.25 94519.5,3193.25 94523.5,3217.25 94535.5,3233.25 94547.5,3265.25 94571.5,3285.25 94587.5,3309.25 94599.5,3325.25 94603.5,3345.25 94603.5,3349.25 94599.5,3409.25 94579.5,3445.25 94575.5,3449.25 94575.5,3469.25 94575.5,3473.25 94575.5,3497.25 94579.5,3501.25 94579.5,3513.25 94575.5,3529.25 94567.5,3533.25 94567.5,3533.25 94563.5,3521.25 94559.5,3521.25 94555.5,3533.25 94547.5,3545.25 94563.5,3557.25 94587.5,3573.25 94607.5,3585.25 94639.5,3593.25 94647.5,3617.25 94663.5,3677.25 94667.5,3705.25 94663.5,3713.25 94659.5,3705.25 94623.5,3689.25 94615.5,3677.25 94607.5,3669.25 94595.5,3665.25 94567.5,3673.25 94555.5,3681.25 94539.5,3697.25 94527.5,3705.25 94527.5,3713.25 94531.5,3729.25 94555.5,3741.25 94575.5,3757.25 94595.5,3765.25 94607.5,3785.25 94623.5,3789.25 94623.5,3821.25 94619.5,3829.25 94603.5,3833.25 94591.5,3861.25 94567.5,3865.25 94563.5,3869.25 94559.5,3913.25 94527.5,3925.25 94511.5,3937.25 94495.5,3945.25 94487.5,3969.25 94515.5,3969.25 94527.5,3981.25 94511.5,3997.25 94451.5,4005.25 94431.5,4005.25 94427.5,4025.25 94399.5,4033.25 94379.5,4037.25 94375.5,4057.25 94359.5,4073.25 94347.5,4105.25 94343.5,4121.25 94335.5,4169.25 94355.5,4181.25 94367.5,4189.25 94375.5,4245.25 94391.5,4293.25 94407.5,4301.25 94431.5,4293.25 94447.5,4289.25 94463.5,4293.25 94483.5,4349.25 94499.5,4365.25 94523.5,4385.25 94559.5,4397.25 94583.5,4413.25 94599.5,4425.25 94599.5,4433.25 94547.5,4429.25 94503.5,4437.25 94447.5,4457.25 94383.5,4465.25 94379.5,4489.25 94347.5,4521.25 94331.5,4541.25 94331.5,4561.25 94315.5,4581.25 94295.5,4617.25 94283.5,4673.25 94263.5,4685.25 94251.5,4709.25 94239.5,4741.25 94223.5,4765.25 94199.5,4769.25 94199.5,4813.25 94187.5,4857.25 94179.5,4881.25 94163.5,4885.25 94159.5,4853.25 94147.5,4777.25 94159.5,4745.25 94163.5,4729.25 94163.5,4713.25 94163.5,4669.25 94167.5,4645.25 94167.5,4629.25 94163.5,4613.25 94155.5,4593.25 94143.5,4557.25 94127.5,4553.25 94123.5,4549.25 94123.5,4513.25 94099.5,4509.25 94099.5,4449.25 94087.5,4421.25 94067.5,4417.25 94059.5,4409.25 94051.5,4373.25 94039.5,4341.25 94035.5,4333.25 94035.5,4329.25 94027.5,4325.25 94007.5,4325.25 93995.5,4305.25 93979.5,4273.25 93979.5,4257.25 93991.5,4241.25 94007.5,4229.25 94027.5,4237.25 94043.5,4189.25 94071.5,4173.25 94071.5,4157.25 94079.5,4141.25 94087.5,4129.25 94091.5,4113.25 94083.5,4113.25 94059.5,4109.25 94031.5,4097.25 94015.5,4081.25 93963.5,4069.25 93943.5,4053.25 93931.5,4041.25 93927.5,4029.25 93927.5,4017.25 93907.5,4021.25 93891.5,4033.25 93887.5,4041.25 93883.5,4037.25 93859.5,4029.25 93827.5,4017.25 93815.5,3981.25 93807.5,3961.25 93791.5,3957.25 93759.5,3965.25 93743.5,3989.25 93715.5,4017.25 93695.5,4025.25 93687.5,4037.25 93671.5,4041.25 93667.5,4049.25 93655.5,4057.25 93643.5,4065.25 93639.5,4085.25 93623.5,4093.25 93615.5,4129.25 93599.5,4141.25 93595.5,4165.25 93595.5,4181.25 93591.5,4225.25 93571.5,4233.25 93555.5,4237.25 93535.5,4241.25 93511.5,4253.25 93495.5,4261.25 93467.5,4273.25 93439.5,4269.25 93423.5,4281.25 93375.5,4285.25 93363.5,4285.25 93359.5,4277.25 93339.5,4249.25 93323.5,4225.25 93303.5,4209.25 93299.5,4181.25 93291.5,4137.25 93291.5,4105.25 93291.5,4077.25 93299.5,4065.25 93299.5,4065.25 93279.5,4085.25 93255.5,4113.25 93231.5,4125.25 93223.5,4117.25 93195.5,4081.25 93187.5,4049.25 93183.5,4025.25 93187.5,3997.25 93199.5,3965.25 93235.5,3949.25 93255.5,3937.25 93287.5,3933.25 93315.5,3925.25 93319.5,3869.25 93351.5,3841.25 93351.5,3817.25 93343.5,3817.25 93339.5,3821.25 93315.5,3825.25 93291.5,3801.25 93263.5,3785.25 93247.5,3757.25 93219.5,3749.25 93207.5,3717.25 93183.5,3693.25 93139.5,3665.25 93099.5,3645.25 93063.5,3613.25 93039.5,3589.25 93011.5,3577.25 92995.5,3529.25 92923.5,3525.25 92891.5,3533.25 92863.5,3549.25 92835.5,3549.25 92831.5,3553.25 92827.5,3569.25 92835.5,3581.25 92859.5,3585.25 92871.5,3585.25 92875.5,3645.25 92887.5,3693.25 92911.5,3705.25 92935.5,3729.25 92959.5,3773.25 92995.5,3809.25 93019.5,3833.25 93039.5,3869.25 93059.5,3889.25 93051.5,3929.25 93023.5,3941.25 92995.5,3881.25 92943.5,3849.25 92927.5,3837.25 92915.5,3829.25 92883.5,3829.25 92839.5,3825.25 92819.5,3805.25 92795.5,3813.25 92783.5,3865.25 92783.5,3901.25 92823.5,3945.25 92843.5,3965.25 92851.5,4005.25 92859.5,4029.25 92851.5,4045.25 92823.5,4053.25 92799.5,4033.25 92779.5,3985.25 92771.5,3937.25 92763.5,3901.25 92747.5,3861.25 92727.5,3833.25 92711.5,3789.25 92707.5,3781.25 92707.5,3697.25 92715.5,3657.25 92723.5,3641.25 92723.5,3597.25 92719.5,3557.25 92715.5,3513.25 92727.5,3453.25 92759.5,3453.25 92783.5,3445.25 92831.5,3389.25 92871.5,3381.25 92923.5,3381.25 92927.5,3389.25 92943.5,3393.25 92947.5,3401.25 92967.5,3401.25 92991.5,3397.25 93019.5,3393.25 93039.5,3389.25 93063.5,3389.25 93079.5,3389.25 93103.5,3385.25 93115.5,3373.25 93135.5,3361.25 93155.5,3353.25 93183.5,3345.25 93195.5,3337.25 93195.5,3329.25 93195.5,3325.25 93179.5,3325.25 93167.5,3337.25 93159.5,3337.25 93143.5,3325.25 93127.5,3301.25 93123.5,3297.25 93123.5,3277.25 93135.5,3261.25 93147.5,3257.25 93155.5,3245.25 93171.5,3229.25 93183.5,3181.25 93207.5,3177.25 93211.5,3173.25 93227.5,3169.25 93239.5,3173.25 93263.5,3189.25 93291.5,3217.25 93319.5,3237.25 93343.5,3245.25 93351.5,3285.25 93355.5,3361.25 93355.5,3385.25 93359.5,3393.25 93363.5,3401.25 93367.5,3405.25 93371.5,3413.25 93387.5,3413.25 93399.5,3397.25 93411.5,3369.25 93427.5,3357.25 93439.5,3313.25 93463.5,3309.25 93467.5,3293.25 93479.5,3249.25 93499.5,3241.25 93503.5,3173.25 93519.5,3161.25 93519.5,3153.25 93519.5,3133.25 93507.5,3117.25 93499.5,3077.25 93475.5,3049.25 93463.5,3025.25 93451.5,3009.25 93447.5,3009.25 93451.5,3009.25 93495.5,3009.25 93503.5,3005.25 93527.5,2997.25 93559.5,2993.25 93571.5,2993.25 93579.5,2993.25 93595.5,2973.25 93631.5,2965.25 93643.5,2953.25 93671.5,2921.25 93703.5,2881.25 93723.5,2809.25 93739.5,2781.25 93739.5,2773.25 93739.5,2737.25 93727.5,2729.25 93715.5,2717.25 93699.5,2709.25 93699.5,2669.25 93707.5,2641.25 93715.5,2629.25 93719.5,2593.25 93727.5,2577.25 93739.5,2557.25 93755.5,2557.25 93787.5,2557.25 93803.5,2521.25 93831.5,2477.25 93839.5,2469.25 93843.5,2453.25 93843.5,2397.25 93843.5,2365.25 93851.5,2341.25 93855.5,2297.25 93867.5,2249.25 93879.5,2237.25 93891.5,2205.25 93907.5,2173.25 93903.5,2153.25 93903.5,2109.25 93891.5,2093.25 93887.5,2077.25 93883.5,2065.25 93871.5,2057.25 93855.5,2037.25 93831.5,2025.25 93819.5,2025.25 93799.5,2021.25 93771.5,2009.25 93755.5,1989.25 93739.5,1961.25 93719.5,1937.25 93707.5,1933.25 93707.5,1937.25 93711.5,1945.25 93743.5,1949.25 93755.5,1949.25 93771.5,1957.25 93803.5,1961.25 93819.5,1961.25 93835.5,1961.25 93855.5,1961.25 93883.5,1957.25 93891.5,1957.25 93915.5,1993.25 93927.5,2005.25 93931.5,2009.25 93935.5,1993.25 93963.5,1989.25 93967.5,1989.25 93971.5,1989.25 93987.5,1993.25 93987.5,2113.25 94023.5))"
    }

    private def getAnnotationFreeHandBigSlow() {
        return "POLYGON((721.25 89855.5,849.25 90111.5,1233.25 90367.5,1489.25 90367.5,1745.25 90495.5,2257.25 90751.5,3025.25 91135.5,3665.25 91391.5,4433.25 91775.5,4561.25 91775.5,4945.25 92031.5,5713.25 92415.5,6481.25 92671.5,6865.25 92927.5,7377.25 93311.5,7889.25 93567.5,9041.25 93951.5,9041.25 94079.5,9809.25 94463.5,10065.25 94591.5,10705.25 94847.5,10833.25 94975.5,11473.25 95103.5,11601.25 95103.5,11985.25 94975.5,12241.25 94847.5,12753.25 94463.5,12753.25 93823.5,12753.25 93311.5,12881.25 93183.5,15185.25 92927.5,15313.25 92927.5,15441.25 92927.5,15825.25 92543.5,16337.25 92031.5,16337.25 91903.5,16849.25 90623.5,16977.25 89599.5,16977.25 88703.5,16977.25 88063.5,16977.25 87807.5,16849.25 86911.5,16849.25 86783.5,16977.25 86399.5,17617.25 86911.5,17873.25 87551.5,18001.25 88447.5,18129.25 89471.5,18257.25 90239.5,18257.25 90367.5,18513.25 91647.5,18513.25 92287.5,18641.25 92415.5,18769.25 92927.5,18897.25 93311.5,19025.25 93695.5,18641.25 94207.5,18513.25 94591.5,18513.25 94847.5,18513.25 95103.5,18641.25 95359.5,19025.25 95359.5,19793.25 95359.5,20305.25 95359.5,20945.25 95359.5,21073.25 95359.5,21585.25 94847.5,21585.25 94719.5,22225.25 94207.5,23377.25 93951.5,23505.25 93823.5,25553.25 93567.5,25681.25 93567.5,26705.25 93311.5,26961.25 93183.5,27473.25 92671.5,27857.25 92543.5,28113.25 92543.5,29009.25 92415.5,29137.25 92415.5,29905.25 92287.5,30161.25 92287.5,31569.25 92159.5,31697.25 92031.5,31953.25 91903.5,32721.25 91903.5,33233.25 91519.5,33617.25 91519.5,33873.25 91263.5,34001.25 91263.5,34129.25 91135.5,34257.25 90879.5,34385.25 90751.5,34513.25 90623.5,35281.25 90367.5,35665.25 90367.5,35921.25 90367.5,36689.25 90879.5,37201.25 91135.5,37457.25 91135.5,37713.25 91263.5,37841.25 91263.5,39121.25 91391.5,40273.25 91391.5,40785.25 91007.5,41169.25 90623.5,41297.25 90239.5,41425.25 89855.5,41681.25 89471.5,41809.25 89471.5,42577.25 89343.5,42833.25 89343.5,43217.25 89471.5,43601.25 89855.5,44497.25 90367.5,45137.25 90623.5,45265.25 90623.5,45777.25 90239.5,46033.25 89983.5,46801.25 89727.5,48465.25 89471.5,48849.25 89471.5,49745.25 89855.5,50641.25 90111.5,51409.25 90367.5,51537.25 90495.5,52049.25 90623.5,52945.25 90751.5,53457.25 90751.5,54225.25 90751.5,54609.25 90751.5,55377.25 91007.5,55761.25 91135.5,56913.25 91263.5,57681.25 91263.5,58321.25 91263.5,58705.25 91263.5,59217.25 91135.5,59985.25 90879.5,60369.25 90495.5,60625.25 90367.5,60753.25 89983.5,60753.25 89727.5,60625.25 89471.5,60113.25 89215.5,59985.25 89087.5,59857.25 88447.5,59729.25 87935.5,59601.25 87935.5,59473.25 87551.5,59345.25 87039.5,59217.25 86655.5,59217.25 86015.5,59345.25 85503.5,59473.25 85119.5,59729.25 84863.5,59985.25 84351.5,59985.25 83839.5,59857.25 83327.5,59729.25 82815.5,59729.25 82175.5,59857.25 81791.5,59985.25 81535.5,59729.25 80895.5,59217.25 80767.5,59089.25 80639.5,58961.25 80127.5,59089.25 79743.5,59601.25 79231.5,59729.25 78847.5,59985.25 78207.5,60113.25 77567.5,60113.25 77311.5,60113.25 76927.5,59985.25 76415.5,59857.25 76287.5,59473.25 75903.5,59089.25 75519.5,58833.25 75391.5,58577.25 75135.5,58449.25 74751.5,58449.25 74239.5,58705.25 74111.5,59217.25 73983.5,59473.25 74111.5,59729.25 73983.5,60113.25 73343.5,60369.25 72703.5,60497.25 72191.5,60497.25 71807.5,60497.25 71679.5,60369.25 71167.5,60113.25 70399.5,59601.25 70015.5,59473.25 70015.5,59601.25 69503.5,60241.25 69503.5,60497.25 69631.5,60625.25 69631.5,60753.25 69631.5,61009.25 69631.5,61265.25 69119.5,61265.25 68479.5,61009.25 67839.5,60369.25 67327.5,59601.25 66943.5,59089.25 66431.5,58961.25 66303.5,58449.25 66303.5,58321.25 66047.5,58065.25 65663.5,57937.25 65407.5,57681.25 64895.5,57425.25 64383.5,57425.25 63871.5,57297.25 63743.5,57169.25 63615.5,57169.25 63487.5,57041.25 63103.5,56913.25 62591.5,56913.25 62207.5,56913.25 61823.5,56913.25 61695.5,56913.25 61567.5,56913.25 60927.5,56913.25 60159.5,56785.25 59775.5,56657.25 59391.5,56529.25 59007.5,56273.25 58751.5,55761.25 58367.5,55377.25 58239.5,55249.25 58111.5,54865.25 57983.5,54353.25 57727.5,53969.25 57727.5,53073.25 57983.5,52817.25 57983.5,52433.25 58367.5,52305.25 58623.5,51921.25 59007.5,51537.25 59647.5,51281.25 60031.5,51153.25 60159.5,50769.25 60671.5,50385.25 61439.5,49873.25 62207.5,49361.25 62719.5,49233.25 63231.5,48721.25 63615.5,47953.25 63871.5,47441.25 63871.5,46929.25 63871.5,46417.25 63743.5,46033.25 63615.5,45521.25 63871.5,45265.25 64127.5,44881.25 64639.5,44369.25 64767.5,43857.25 64895.5,43217.25 65151.5,41937.25 65279.5,41297.25 65279.5,40401.25 65023.5,39761.25 64895.5,39377.25 64639.5,39121.25 64639.5,38737.25 64383.5,37969.25 63999.5,37585.25 63615.5,37201.25 63487.5,36433.25 63103.5,35665.25 62719.5,35281.25 62463.5,35153.25 62335.5,34257.25 62079.5,33489.25 61823.5,32593.25 61695.5,31441.25 61695.5,30929.25 61823.5,30545.25 62335.5,30545.25 62719.5,30545.25 62975.5,30673.25 63359.5,30929.25 63743.5,31313.25 64383.5,31441.25 65023.5,31441.25 65407.5,31057.25 66303.5,30033.25 67199.5,29777.25 67455.5,29265.25 67711.5,29137.25 67839.5,28753.25 68351.5,28625.25 68479.5,28113.25 68735.5,27857.25 68863.5,27345.25 68863.5,27217.25 68863.5,26705.25 68991.5,26449.25 69503.5,26321.25 69631.5,26321.25 70143.5,26449.25 70271.5,27089.25 70783.5,27217.25 70911.5,27345.25 71295.5,26449.25 72063.5,25681.25 72703.5,25041.25 73471.5,23889.25 74623.5,23377.25 75263.5,22993.25 75775.5,22609.25 76031.5,21329.25 76159.5,20305.25 75647.5,19921.25 75007.5,19921.25 74239.5,19921.25 73471.5,20049.25 72703.5,20049.25 72191.5,20305.25 71039.5,20305.25 70271.5,20305.25 69503.5,20305.25 68735.5,20433.25 68095.5,21073.25 67327.5,21585.25 66431.5,21713.25 66047.5,21969.25 65279.5,21713.25 64511.5,20945.25 64127.5,20177.25 63999.5,19537.25 63871.5,18129.25 63743.5,16977.25 64255.5,16209.25 65151.5,14929.25 65919.5,14289.25 66431.5,13521.25 66943.5,12497.25 67455.5,12241.25 67455.5,11729.25 67327.5,11089.25 67199.5,10961.25 67327.5,8913.25 68095.5,8529.25 68479.5,8273.25 69119.5,7889.25 69759.5,7505.25 70527.5,7249.25 71167.5,7249.25 72319.5,7377.25 73471.5,7377.25 73727.5,7377.25 73855.5,7249.25 75007.5,8017.25 75903.5,8657.25 76415.5,8785.25 76671.5,8913.25 77439.5,9169.25 78719.5,9297.25 79487.5,8913.25 80511.5,8017.25 81279.5,6993.25 82047.5,6609.25 82559.5,6353.25 83711.5,6353.25 84479.5,6481.25 84863.5,6481.25 85503.5,6225.25 86015.5,4689.25 86655.5,3025.25 87167.5,2129.25 87167.5,1489.25 87423.5,1361.25 87551.5,1233.25 87679.5,721.25 89855.5))"
    }

    private def getAnnotationFreeHandSmallMedium() {
        return "POLYGON((143993.75 83600.5,143994.75 83601.5,144013.75 83630.5,144018.75 83640.5,144022.75 83646.5,144027.75 83654.5,144029.75 83657.5,144035.75 83662.5,144043.75 83664.5,144065.75 83668.5,144073.75 83672.5,144082.75 83678.5,144088.75 83681.5,144099.75 83687.5,144120.75 83692.5,144133.75 83696.5,144134.75 83697.5,144141.75 83700.5,144154.75 83705.5,144166.75 83711.5,144172.75 83714.5,144182.75 83717.5,144192.75 83718.5,144199.75 83718.5,144203.75 83718.5,144210.75 83717.5,144213.75 83715.5,144226.75 83710.5,144238.75 83707.5,144252.75 83705.5,144258.75 83703.5,144265.75 83699.5,144275.75 83695.5,144277.75 83694.5,144291.75 83684.5,144298.75 83674.5,144306.75 83665.5,144319.75 83658.5,144326.75 83654.5,144334.75 83640.5,144337.75 83627.5,144340.75 83612.5,144342.75 83600.5,144342.75 83590.5,144340.75 83579.5,144341.75 83567.5,144344.75 83551.5,144347.75 83537.5,144354.75 83522.5,144358.75 83513.5,144360.75 83496.5,144363.75 83478.5,144361.75 83462.5,144360.75 83443.5,144359.75 83430.5,144357.75 83418.5,144357.75 83401.5,144358.75 83392.5,144360.75 83378.5,144361.75 83358.5,144360.75 83342.5,144356.75 83327.5,144348.75 83309.5,144342.75 83295.5,144328.75 83281.5,144317.75 83275.5,144306.75 83271.5,144290.75 83271.5,144273.75 83272.5,144258.75 83274.5,144246.75 83277.5,144235.75 83286.5,144222.75 83298.5,144209.75 83302.5,144199.75 83299.5,144192.75 83291.5,144180.75 83278.5,144179.75 83274.5,144176.75 83264.5,144168.75 83254.5,144156.75 83246.5,144136.75 83242.5,144124.75 83245.5,144096.75 83258.5,144084.75 83264.5,144069.75 83277.5,144061.75 83288.5,144053.75 83302.5,144048.75 83319.5,144039.75 83338.5,144034.75 83344.5,144016.75 83347.5,144008.75 83349.5,144003.75 83342.5,143998.75 83330.5,143992.75 83314.5,143980.75 83299.5,143968.75 83284.5,143961.75 83273.5,143953.75 83259.5,143949.75 83250.5,143944.75 83238.5,143937.75 83225.5,143926.75 83217.5,143916.75 83213.5,143907.75 83211.5,143895.75 83209.5,143890.75 83219.5,143882.75 83225.5,143874.75 83227.5,143861.75 83226.5,143852.75 83224.5,143841.75 83231.5,143827.75 83252.5,143818.75 83269.5,143814.75 83291.5,143811.75 83314.5,143815.75 83340.5,143821.75 83360.5,143833.75 83386.5,143842.75 83405.5,143848.75 83424.5,143852.75 83445.5,143855.75 83465.5,143862.75 83482.5,143869.75 83497.5,143878.75 83513.5,143891.75 83525.5,143909.75 83545.5,143923.75 83558.5,143932.75 83556.5,143950.75 83551.5,143962.75 83543.5,143982.75 83528.5,144000.75 83512.5,144020.75 83503.5,144035.75 83500.5,144047.75 83504.5,144056.75 83521.5,144054.75 83531.5,144049.75 83540.5,144044.75 83547.5,144039.75 83553.5,144030.75 83559.5,144023.75 83560.5,144014.75 83557.5,144012.75 83557.5,144008.75 83567.5,144007.75 83581.5,144000.75 83591.5,143997.75 83594.5,143994.75 83595.5,143993.75 83596.5,143993.75 83600.5))"
    }

    private def getAnnotationFreeHandMediumMedium() {
        return "POLYGON((111433.75 103373.5,111449.75 103357.5,111497.75 103293.5,111545.75 103277.5,111577.75 103261.5,111625.75 103245.5,111657.75 103245.5,111721.75 103341.5,111753.75 103405.5,111785.75 103469.5,111817.75 103501.5,111881.75 103533.5,111897.75 103533.5,111881.75 103453.5,111881.75 103437.5,111865.75 103341.5,111833.75 103309.5,111833.75 103245.5,111913.75 103181.5,112025.75 103165.5,112169.75 103149.5,112249.75 103101.5,112281.75 103101.5,112313.75 103101.5,112377.75 103229.5,112457.75 103373.5,112505.75 103405.5,112569.75 103437.5,112633.75 103341.5,112649.75 103213.5,112649.75 103181.5,112649.75 103101.5,112665.75 102941.5,112713.75 102893.5,112809.75 102893.5,112905.75 102925.5,113049.75 103005.5,113161.75 103069.5,113209.75 103117.5,113225.75 103165.5,113257.75 103245.5,113289.75 103261.5,113337.75 103229.5,113337.75 103197.5,113417.75 103133.5,113417.75 103117.5,113465.75 103085.5,113545.75 103053.5,113657.75 103085.5,113737.75 103149.5,113769.75 103181.5,113801.75 103261.5,113817.75 103357.5,113849.75 103405.5,113865.75 103405.5,113913.75 103405.5,113961.75 103389.5,113993.75 103293.5,113993.75 103213.5,113961.75 103181.5,113977.75 103165.5,114009.75 103165.5,114025.75 103165.5,114057.75 103165.5,114185.75 103261.5,114233.75 103293.5,114249.75 103293.5,114313.75 103277.5,114393.75 103213.5,114489.75 103213.5,114617.75 103261.5,114633.75 103277.5,114665.75 103181.5,114665.75 103165.5,114697.75 103277.5,114697.75 103341.5,114729.75 103357.5,114825.75 103325.5,114841.75 103309.5,114953.75 103245.5,115161.75 103181.5,115177.75 103181.5,115193.75 103181.5,115417.75 103149.5,115433.75 103149.5,115673.75 103053.5,115897.75 102989.5,115929.75 102957.5,116233.75 102797.5,116265.75 102781.5,116537.75 102653.5,116617.75 102637.5,116761.75 102541.5,116889.75 102493.5,117001.75 102445.5,117145.75 102397.5,117257.75 102365.5,117433.75 102285.5,117481.75 102237.5,117561.75 102157.5,117625.75 102093.5,117705.75 102013.5,117769.75 101933.5,117785.75 101853.5,117753.75 101821.5,117641.75 101741.5,117529.75 101709.5,117401.75 101677.5,117225.75 101677.5,117113.75 101677.5,117001.75 101677.5,116921.75 101645.5,116809.75 101613.5,116649.75 101645.5,116521.75 101661.5,116361.75 101725.5,116297.75 101757.5,116153.75 101773.5,115993.75 101773.5,115865.75 101725.5,115801.75 101677.5,115705.75 101581.5,115689.75 101565.5,115529.75 101453.5,115417.75 101389.5,115305.75 101309.5,115193.75 101229.5,115081.75 101149.5,114985.75 101085.5,114713.75 101037.5,114649.75 101037.5,114585.75 101037.5,114377.75 101037.5,114297.75 101053.5,114153.75 101149.5,114009.75 101261.5,113881.75 101405.5,113769.75 101581.5,113705.75 101677.5,113641.75 101741.5,113561.75 101805.5,113449.75 101789.5,113353.75 101757.5,113257.75 101725.5,113097.75 101709.5,112921.75 101693.5,112633.75 101741.5,112409.75 101773.5,112217.75 101805.5,112057.75 101869.5,111673.75 102013.5,111369.75 102109.5,111225.75 102205.5,111193.75 102253.5,111177.75 102269.5,111113.75 102285.5,110937.75 102365.5,110825.75 102397.5,110617.75 102493.5,110505.75 102525.5,110457.75 102541.5,110345.75 102557.5,110265.75 102557.5,110233.75 102541.5,110137.75 102493.5,110089.75 102461.5,109753.75 102429.5,109657.75 102477.5,109577.75 102557.5,109513.75 102605.5,109497.75 102621.5,109193.75 102765.5,109161.75 102781.5,108921.75 102813.5,108905.75 102845.5,108873.75 102941.5,108857.75 102973.5,108761.75 103117.5,108761.75 103149.5,108745.75 103309.5,108873.75 103469.5,108953.75 103581.5,108985.75 103613.5,109113.75 103709.5,109241.75 103757.5,109321.75 103757.5,109337.75 103757.5,109433.75 103757.5,109561.75 103757.5,109673.75 103741.5,109801.75 103725.5,109929.75 103725.5,110025.75 103725.5,110105.75 103741.5,110201.75 103773.5,110313.75 103773.5,110361.75 103741.5,110409.75 103741.5,110505.75 103789.5,110601.75 103853.5,110649.75 103853.5,110713.75 103805.5,110761.75 103773.5,110825.75 103741.5,110905.75 103725.5,110969.75 103757.5,111017.75 103773.5,111049.75 103773.5,111033.75 103677.5,111001.75 103533.5,111001.75 103485.5,111017.75 103437.5,111049.75 103389.5,111081.75 103373.5,111113.75 103357.5,111433.75 103373.5))"
    }

    private def getAnnotationFreeHandBigMedium() {
       return "POLYGON((72425.75 30893.5,72425.75 31149.5,72169.75 32173.5,71657.75 33965.5,71401.75 35373.5,71401.75 36269.5,71273.75 37549.5,71273.75 38573.5,71529.75 40493.5,71401.75 42413.5,70889.75 44205.5,70633.75 45741.5,70377.75 46637.5,69609.75 47789.5,68841.75 48685.5,68201.75 49709.5,67561.75 50349.5,67433.75 50477.5,66537.75 50733.5,65641.75 50733.5,65385.75 50989.5,64361.75 52653.5,64105.75 54061.5,63977.75 55725.5,63849.75 56493.5,63593.75 56877.5,63337.75 57005.5,62185.75 57901.5,62057.75 58029.5,61545.75 58029.5,60777.75 58029.5,60521.75 58029.5,60393.75 58541.5,60905.75 59693.5,61801.75 59949.5,61929.75 61357.5,62057.75 62509.5,62697.75 63405.5,63081.75 64173.5,63209.75 64941.5,63465.75 65837.5,63849.75 67629.5,63977.75 67757.5,64745.75 68781.5,64361.75 70829.5,64105.75 72493.5,64105.75 73901.5,64361.75 75565.5,64489.75 76717.5,64489.75 78893.5,63977.75 80813.5,63209.75 82349.5,62697.75 83629.5,62569.75 85165.5,62825.75 86573.5,63209.75 87725.5,63209.75 88749.5,63209.75 90157.5,63337.75 90925.5,63465.75 91437.5,63977.75 91821.5,64745.75 91821.5,65385.75 91565.5,66665.75 90157.5,67433.75 89133.5,67817.75 88237.5,68201.75 87213.5,68713.75 85677.5,68713.75 85037.5,68713.75 83757.5,68841.75 83629.5,68969.75 83501.5,69737.75 85037.5,70121.75 86573.5,70761.75 87597.5,72041.75 88877.5,73065.75 89773.5,74345.75 90541.5,75241.75 90925.5,75753.75 91053.5,76137.75 91053.5,76137.75 90669.5,75625.75 89901.5,75497.75 89517.5,74985.75 88365.5,74857.75 88237.5,75369.75 87597.5,75753.75 87469.5,76521.75 87469.5,77289.75 88237.5,78057.75 89261.5,79337.75 90541.5,79593.75 90541.5,81257.75 90285.5,81769.75 89389.5,81769.75 89005.5,82153.75 88237.5,82153.75 87469.5,82537.75 86957.5,83049.75 86829.5,84457.75 87085.5,84585.75 87085.5,85481.75 86061.5,85737.75 85677.5,85865.75 85549.5,86377.75 85165.5,87785.75 85165.5,87913.75 85037.5,89833.75 84269.5,91241.75 84397.5,92521.75 84909.5,92905.75 85677.5,92777.75 86573.5,94569.75 86701.5,95593.75 85933.5,95721.75 85421.5,96105.75 84397.5,96745.75 83757.5,98281.75 84397.5,99305.75 84653.5,99817.75 82989.5,99049.75 81709.5,98153.75 80813.5,98921.75 79661.5,99817.75 78893.5,100073.75 78637.5,100073.75 78125.5,99305.75 77613.5,97769.75 77741.5,96361.75 78253.5,95593.75 78253.5,94569.75 76973.5,94313.75 75309.5,94057.75 74029.5,93673.75 73901.5,91497.75 73389.5,90857.75 73133.5,89961.75 72493.5,89705.75 71597.5,89577.75 70317.5,88553.75 69677.5,88425.75 69549.5,89193.75 68397.5,90601.75 67757.5,91113.75 67501.5,91369.75 67501.5,92649.75 68013.5,94185.75 68525.5,94697.75 68525.5,96361.75 68013.5,97513.75 67501.5,97769.75 67245.5,98665.75 66477.5,99305.75 66477.5,100969.75 68525.5,101737.75 69549.5,101865.75 70061.5,103017.75 70317.5,104809.75 71341.5,106217.75 72493.5,107625.75 73645.5,107753.75 73773.5,109033.75 74157.5,109801.75 74157.5,110697.75 73645.5,111209.75 72877.5,111337.75 70701.5,110953.75 68781.5,110313.75 67245.5,109545.75 65709.5,108265.75 64173.5,106729.75 63149.5,105065.75 62125.5,103913.75 61357.5,101609.75 60717.5,99817.75 60461.5,97001.75 60333.5,96233.75 60333.5,93673.75 60205.5,93417.75 60205.5,93033.75 60077.5,92905.75 60077.5,92521.75 59309.5,92393.75 59053.5,92009.75 56877.5,90985.75 55341.5,90729.75 54189.5,90601.75 52397.5,90345.75 50605.5,90473.75 49069.5,90857.75 47533.5,91497.75 46765.5,92009.75 46381.5,92265.75 44973.5,92137.75 43565.5,91881.75 42285.5,91369.75 40365.5,90729.75 38829.5,90601.75 36653.5,90601.75 35629.5,89833.75 34733.5,89321.75 33069.5,88809.75 31405.5,88553.75 31277.5,87401.75 29869.5,87273.75 28845.5,86889.75 28461.5,84969.75 28205.5,83689.75 28589.5,82665.75 29229.5,82281.75 29357.5,82281.75 29613.5,82025.75 31021.5,81513.75 31661.5,81001.75 32685.5,80873.75 34093.5,81001.75 35117.5,81129.75 37805.5,81129.75 39085.5,80873.75 39085.5,80361.75 39213.5,78953.75 38573.5,77673.75 37549.5,76521.75 36525.5,75241.75 34605.5,74985.75 33453.5,75113.75 33197.5,72425.75 30893.5))"
    }

    private def getAnnotationFreeHandSmallQuick() {
       return "POLYGON((19611.75 23353.5,19605.75 23353.5,19549.75 23367.5,19525.75 23397.5,19501.75 23441.5,19491.75 23479.5,19471.75 23499.5,19435.75 23519.5,19407.75 23553.5,19421.75 23587.5,19453.75 23607.5,19511.75 23613.5,19533.75 23599.5,19615.75 23539.5,19689.75 23483.5,19739.75 23461.5,19787.75 23449.5,19827.75 23417.5,19799.75 23385.5,19767.75 23379.5,19731.75 23387.5,19707.75 23413.5,19683.75 23411.5,19653.75 23393.5,19643.75 23379.5,19637.75 23375.5,19611.75 23353.5))"
    }

    private def getAnnotationFreeHandMediumQuick() {
       return "POLYGON((23021.75 22841.5,23013.75 22849.5,22957.75 22953.5,22925.75 23065.5,22845.75 23281.5,22757.75 23553.5,22709.75 23753.5,22693.75 24065.5,22741.75 24289.5,22821.75 24465.5,22917.75 24713.5,22941.75 24865.5,22997.75 25041.5,23061.75 25129.5,23173.75 25193.5,23405.75 25273.5,23525.75 25329.5,23717.75 25417.5,23901.75 25497.5,24173.75 25489.5,24349.75 25425.5,24597.75 25313.5,24829.75 25201.5,24901.75 25089.5,24901.75 25001.5,25029.75 24841.5,25125.75 24769.5,25173.75 24737.5,25229.75 24721.5,25365.75 24697.5,25477.75 24537.5,25653.75 24465.5,25757.75 24481.5,25949.75 24393.5,26013.75 24289.5,26005.75 24097.5,25989.75 23969.5,25933.75 23841.5,25821.75 23753.5,25733.75 23705.5,25597.75 23561.5,25549.75 23433.5,25533.75 23313.5,25501.75 23201.5,25421.75 23073.5,25365.75 23041.5,25285.75 23017.5,25181.75 22881.5,25109.75 22721.5,24981.75 22625.5,24837.75 22657.5,24525.75 22641.5,24149.75 22569.5,23997.75 22601.5,23725.75 22673.5,23517.75 22689.5,23413.75 22681.5,23253.75 22657.5,23181.75 22625.5,23021.75 22841.5))"
    }

    private def getAnnotationFreeHandBigQuick() {
       return "POLYGON((23317.75 47801.5,23445.75 47545.5,24085.75 44601.5,24213.75 43321.5,24469.75 41657.5,24853.75 39097.5,25493.75 36793.5,25749.75 34489.5,26005.75 32569.5,26773.75 31417.5,27285.75 30777.5,28309.75 30137.5,30357.75 31673.5,30997.75 32825.5,33045.75 33593.5,35989.75 33337.5,38677.75 31289.5,40469.75 29753.5,41109.75 29241.5,42389.75 28217.5,44437.75 28089.5,45333.75 28985.5,46997.75 29625.5,48277.75 28857.5,48277.75 28089.5,48405.75 26809.5,48661.75 25657.5,49941.75 24761.5,50709.75 24249.5,51221.75 22969.5,51093.75 22073.5,49941.75 21305.5,49173.75 20537.5,48021.75 19513.5,46869.75 18361.5,46869.75 17593.5,46997.75 17337.5,49685.75 16185.5,52117.75 16569.5,52885.75 17977.5,53525.75 19769.5,53781.75 21561.5,54037.75 22969.5,54933.75 23353.5,55957.75 21561.5,56341.75 19001.5,56341.75 17465.5,57109.75 15161.5,57749.75 14009.5,60437.75 13241.5,63381.75 13625.5,65557.75 14521.5,65813.75 15929.5,65173.75 18105.5,64405.75 19257.5,62229.75 20921.5,60053.75 22713.5,59029.75 24249.5,58133.75 26169.5,57365.75 27961.5,56853.75 29625.5,57109.75 32057.5,57365.75 34873.5,57237.75 37049.5,57237.75 38073.5,57109.75 38457.5,57365.75 39481.5,58517.75 39481.5,60821.75 38585.5,62741.75 37945.5,63637.75 37945.5,63893.75 38457.5,63765.75 39097.5,63637.75 39481.5,62485.75 40505.5,59797.75 41145.5,58901.75 41273.5,57877.75 41401.5,56341.75 41529.5,55189.75 42041.5,53525.75 42553.5,49941.75 42937.5,48789.75 42681.5,47253.75 42809.5,45845.75 44345.5,44309.75 45753.5,43157.75 45753.5,42389.75 44601.5,41621.75 44089.5,40725.75 44089.5,39061.75 44601.5,36245.75 44729.5,34325.75 44089.5,34069.75 43449.5,33173.75 44089.5,31765.75 45113.5,30357.75 45369.5,28053.75 45241.5,28053.75 44985.5,26517.75 44345.5,24725.75 45881.5,24469.75 47033.5,25493.75 48825.5,25365.75 48953.5,24341.75 48953.5,23829.75 48953.5,23573.75 48825.5,23317.75 47801.5))"
    }

    private def getAnnotationPolygonSmall() {
       return "POLYGON((156451.75 21841.5,156401.75 21909.5,156389.75 21949.5,156407.75 21977.5,156363.75 22003.5,156311.75 22023.5,156327.75 22075.5,156301.75 22093.5,156293.75 22137.5,156345.75 22187.5,156381.75 22217.5,156423.75 22223.5,156473.75 22231.5,156505.75 22261.5,156561.75 22279.5,156611.75 22283.5,156669.75 22277.5,156707.75 22259.5,156739.75 22219.5,156785.75 22169.5,156815.75 22113.5,156827.75 22059.5,156839.75 22017.5,156847.75 21975.5,156867.75 21939.5,156875.75 21917.5,156807.75 21865.5,156761.75 21831.5,156699.75 21807.5,156635.75 21807.5,156589.75 21791.5,156451.75 21841.5))"
    }

    private def getAnnotationPolygonMedium() {
       return "POLYGON((162909.75 27331.5,162973.75 26995.5,163165.75 26803.5,163309.75 26851.5,163453.75 26883.5,163517.75 26707.5,163469.75 26531.5,163853.75 26227.5,164109.75 26051.5,164285.75 26051.5,164397.75 26067.5,164365.75 25875.5,164621.75 25715.5,164829.75 25539.5,164989.75 25363.5,165117.75 25203.5,165213.75 25027.5,165277.75 24899.5,165021.75 24755.5,164893.75 24627.5,164557.75 24563.5,164365.75 24483.5,164269.75 24435.5,164397.75 24211.5,164589.75 24083.5,164701.75 23923.5,164989.75 23715.5,165197.75 23555.5,165341.75 23299.5,165421.75 23171.5,165117.75 22979.5,164813.75 22899.5,164477.75 22883.5,164317.75 22899.5,164077.75 22915.5,163789.75 23027.5,162205.75 24035.5,161933.75 24147.5,161981.75 24451.5,162189.75 24531.5,162669.75 24979.5,162621.75 25507.5,162621.75 26195.5,162461.75 26659.5,162909.75 27331.5))"
    }

    private def getAnnotationPolygonBig() {
       return "POLYGON((140493.75 595.5,139917.75 1171.5,140429.75 1299.5,141005.75 1747.5,140493.75 2323.5,140045.75 2643.5,140365.75 3155.5,141005.75 3219.5,141709.75 2963.5,142541.75 3091.5,143693.75 3155.5,144301.75 3571.5,143405.75 4179.5,143437.75 4563.5,143277.75 4915.5,142861.75 5395.5,142829.75 5683.5,143437.75 5747.5,144301.75 5651.5,145005.75 5683.5,145741.75 5779.5,144877.75 6451.5,144621.75 6803.5,144365.75 7155.5,144365.75 7475.5,144717.75 7571.5,144717.75 7795.5,145709.75 7251.5,145869.75 7475.5,145005.75 7891.5,145325.75 8243.5,145549.75 8435.5,145933.75 8339.5,146253.75 8499.5,145869.75 8883.5,145965.75 9267.5,146317.75 9043.5,147149.75 9075.5,147661.75 9011.5,148333.75 8979.5,149037.75 9043.5,149517.75 9203.5,150157.75 9299.5,149581.75 9587.5,149773.75 9811.5,149741.75 10099.5,149581.75 10355.5,149453.75 10771.5,149261.75 11219.5,148525.75 11283.5,146893.75 11827.5,145677.75 12051.5,145133.75 12339.5,144365.75 12179.5,143629.75 11891.5,142637.75 11539.5,142061.75 11123.5,141197.75 10995.5,140493.75 10931.5,140237.75 10579.5,139917.75 10195.5,139885.75 9683.5,141357.75 9395.5,142381.75 9203.5,143117.75 8979.5,143245.75 8499.5,142893.75 8403.5,142349.75 8723.5,141677.75 8915.5,141389.75 8915.5,141517.75 8051.5,142029.75 7475.5,142733.75 6963.5,143213.75 6707.5,143661.75 6483.5,142957.75 6515.5,142285.75 6803.5,141581.75 7091.5,141069.75 7187.5,140781.75 7091.5,140141.75 7283.5,139629.75 7603.5,138829.75 7923.5,138413.75 7987.5,137773.75 7859.5,137581.75 7795.5,136845.75 7955.5,134861.75 7859.5,133517.75 7987.5,132141.75 8627.5,131757.75 8499.5,131981.75 7699.5,133517.75 7123.5,135597.75 6675.5,136237.75 6451.5,137101.75 6227.5,138285.75 5747.5,139181.75 5235.5,140301.75 4979.5,141229.75 4755.5,141741.75 4467.5,142317.75 4115.5,142605.75 3795.5,141613.75 4115.5,140493.75 4723.5,139597.75 4595.5,138893.75 4307.5,138157.75 4243.5,136845.75 4339.5,135725.75 4467.5,134797.75 4595.5,133613.75 4947.5,132749.75 5299.5,131853.75 5491.5,131213.75 5395.5,130925.75 4659.5,131213.75 4211.5,132685.75 4083.5,133421.75 3987.5,133933.75 3507.5,134445.75 3091.5,135309.75 3027.5,136045.75 3027.5,136813.75 2931.5,137933.75 2707.5,138445.75 2387.5,138797.75 1939.5,138477.75 1555.5,138189.75 1363.5,140493.75 595.5))"
    }

    private def addImage() {
        AbstractImage abstractImage = AbstractImage.read(728700)
        ImageInstance image = new ImageInstance()
        image.baseImage = abstractImage
        image.project = Project.read(863729)
        image.user = cytomineService.currentUser
        if(!image.validate()) {
            println image.errors
        }
        image.save(flush: true)
    }
}
